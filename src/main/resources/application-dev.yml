server:
    port: 8160
    servlet:
        context-path: /api/v1/

services:
    olive-insurance-auth-service: ${OLIVE_DEV_AUTH_SERVICE_URL}
    olive-insurance-administration-service: ${OLIVE_DEV_ADMINISTRATION_SERVICE_URL}
    olive-insurance-exploitation-service: ${OLIVE_DEV_EXPLOITATION_SERVICE_URL}
    olive-insurance-settings-service: ${OLIVE_DEV_SETTINGS_SERVICE_URL}

spring:
    application:
        name: dev-olive-insurance-pricing-service
    config:
        import: "optional:consul:"
    datasource:
        url: ${OLIVE_DEV_PRICING_SPRING_DATASOURCE_URL}
        username: ${OLIVE_DEV_PRICING_SPRING_DATASOURCE_USERNAME}
        password: ${OLIVE_DEV_PRICING_SPRING_DATASOURCE_PASSWORD}

    jpa:
        hibernate:
            ddl-auto: create
        show-sql: false
        properties:
            hibernate:
                format_sql: true
                dialect: org.hibernate.dialect.PostgreSQLDialect

    cloud:
        consul:
            host: ${SPRING_CLOUD_CONSUL_HOST:localhost}
            port: ${SPRING_CLOUD_CONSUL_PORT:8500}
            discovery:
                register: ${SPRING_CLOUD_CONSUL_DISCOVERY_REGISTER:true}
                deregister: ${SPRING_CLOUD_CONSUL_DISCOVERY_DEREGISTER:true}
                health-check-path: ${SPRING_CLOUD_CONSUL_DISCOVERY_HEALTHCHECKPATH:/api/v1/actuator/health}
                prefer-ip-address: ${SPRING_CLOUD_CONSUL_DISCOVERY_PREFER_IP_ADDRESS:true}

management:
    endpoints:
        web:
            exposure:
                include: health,info

springdoc:
    swagger-ui:
        path: /swagger-ui.html
        enabled: true
    api-docs:
        path: /v3/api-docs
        enabled: true

logging:
    level:
        org.springframework.orm.jpa: DEBUG
        org.springframework.security: DEBUG
        sn.zeitune: DEBUG

jwt:
    user:
        public-key: classpath:keys/public-user.pem
        expiration: 900000 # 15 min

    admin:
        public-key: classpath:keys/public-admin.pem
        expiration: 300000 # 5 min